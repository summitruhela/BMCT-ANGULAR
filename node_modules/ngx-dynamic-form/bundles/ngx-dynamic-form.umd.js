(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/forms'), require('@angular/common'), require('ng2-datepicker')) :
    typeof define === 'function' && define.amd ? define('ngx-dynamic-form', ['exports', '@angular/core', '@angular/forms', '@angular/common', 'ng2-datepicker'], factory) :
    (factory((global['ngx-dynamic-form'] = {}),global.ng.core,global.ng.forms,global.ng.common,null));
}(this, (function (exports,core,forms,common,ng2Datepicker) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var FormInputComponent = (function () {
        function FormInputComponent() {
        }
        Object.defineProperty(FormInputComponent.prototype, "hostClass", {
            get: /**
             * @return {?}
             */ function () {
                return this.config.divClass;
            },
            enumerable: true,
            configurable: true
        });
        FormInputComponent.decorators = [
            { type: core.Component, args: [{
                        // tslint:disable-next-line:component-selector
                        selector: 'form-input',
                        styles: ["input[type=submit]{margin-top:.5rem 1rem}.form-input{height:38px;border-radius:3.5px;background-color:#fff;border:1px solid #bdbdbd;margin-bottom:15px}label{margin-bottom:8px;font-size:16px}", "input[type=submit]{margin-top:.5rem 1rem}.form-input{height:38px;border-radius:3.5px;background-color:#fff;border:1px solid #bdbdbd;margin-bottom:15px}label{margin-bottom:8px;font-size:16px}"],
                        template: "<div *ngIf='!config.hidden' [formGroup]=\"formGroup\">\n    <label [ngClass]=\"config.labelClass\" *ngIf=\"config.label && config.label!=''\">{{ config.label }}</label>\n    <input *ngIf=\"config.type ==='input' && !config.fromEnum \" class=\"form-input\" value={{config.text}} [disabled]=\"config.disabled\" type={{config.inputType}} [ngClass]=\"config.class\" [attr.placeholder]=\"config.placeholder\" [formControlName]=\"config.name\"\n    />\n\n    <select *ngIf=\"config.type==='select' && !config.fromEnum && !config.hidden\" class=\"form-input\" [formControlName]=\"config.name\" [ngClass]=config.class>\n        <option value='' [selected]=\"true\">{{ config.placeholder }}</option>\n        <option value={{option}}\n                *ngFor=\"let option of config.options\">\n                {{option}}\n        </option>\n    </select>\n    <select class=\"form-input\" *ngIf=\"config.type==='select' && config.fromEnum && !config.hidden\" [formControlName]=\"config.name\" [ngClass]=config.class>\n        <option value=\"\" [selected]=\"true\">{{ config.placeholder }}</option>\n        <option value={{config.options[0][i]}}\n                *ngFor=\"let o of config.options[0]; let i=index\">\n                {{ config.options[1][i] }}\n        </option>\n    </select>\n\n    <textarea class=\"form-input\" *ngIf=\"config.type==='textarea' && !config.hidden\" [formControlName]=\"config.name\" [attr.placeholder]=\"config.placeholder\" rows={{config.rows}} cols={{config.cols}}></textarea>\n\n    <ng-datepicker class=\"form-input\" [ngClass]=\"config.class\" *ngIf=\"config.type ==='date'\" [formControlName]=\"config.name\"></ng-datepicker>\n</div>"
                    },] },
        ];
        /** @nocollapse */
        FormInputComponent.ctorParameters = function () { return []; };
        FormInputComponent.propDecorators = {
            hostClass: [{ type: core.HostBinding, args: ['class',] }]
        };
        return FormInputComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var FormSelectComponent = (function () {
        function FormSelectComponent() {
        }
        Object.defineProperty(FormSelectComponent.prototype, "hostClass", {
            get: /**
             * @return {?}
             */ function () {
                return this.config.divClass;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Converts and Enum Object to an Array
         * @param arg  Enum
         * @returns Array<Array<any>>
         */
        /**
         * Converts and Enum Object to an Array
         * @param {?} arg  Enum
         * @return {?} Array<Array<any>>
         */
        FormSelectComponent.prototype.enumToArray = /**
         * Converts and Enum Object to an Array
         * @param {?} arg  Enum
         * @return {?} Array<Array<any>>
         */
            function (arg) {
                /** @type {?} */
                var numKeyArr = [];
                /** @type {?} */
                var valArr = [];
                /** @type {?} */
                var returnedArray = [];
                /** @type {?} */
                var objKeys = Object.keys(arg);
                objKeys.forEach(function (key) {
                    /** @type {?} */
                    var numberKey = Number(key);
                    if (!isNaN(numberKey)) {
                        numKeyArr.push(numberKey);
                    }
                    else {
                        valArr.push(key);
                    }
                });
                returnedArray[0] = numKeyArr;
                returnedArray[1] = valArr;
                return returnedArray;
            };
        FormSelectComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'form-select',
                        styles: ["", "input[type=submit]{margin-top:.5rem 1rem}.form-input{height:38px;border-radius:3.5px;background-color:#fff;border:1px solid #bdbdbd;margin-bottom:15px}label{margin-bottom:8px;font-size:16px}"],
                        template: "<div *ngIf='!config.hidden' [formGroup]=\"formGroup\">\n    <label [ngClass]=\"config.labelClass\" *ngIf=\"config.label && config.label!=''\">{{ config.label }}</label>\n    <div class=\"dynamic-field form-select\">\n        <select *ngIf=\"!config.enum\" class=\"form-input\" [hidden]='config.hidden' [formControlName]=\"config.name\" [ngClass]=config.class>\n                <option value='' [selected]=\"true\">{{ config.placeholder }}</option>\n                <option *ngFor=\"let option of config.options\"\n                        [value]='option'>\n                        {{option}}\n                </option>\n\n        </select>\n        <select [formControlName]=\"config.name\" class=\"form-input\" [ngClass]=config.class *ngIf=\"config.enum\">\n                <option value='' [selected]=\"true\">{{ config.placeholder }}</option>\n                <option *ngFor=\"let o of enumToArray(config.enum)[0]; let i=index\"\n                        [value]='enumToArray(config.enum)[0][i]'>\n                        {{ enumToArray(config.enum)[1][i] }}\n                </option>\n        </select>\n    </div>\n</div>"
                    },] },
        ];
        FormSelectComponent.propDecorators = {
            hostClass: [{ type: core.HostBinding, args: ['class',] }]
        };
        return FormSelectComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var FormFileUploadComponent = (function () {
        function FormFileUploadComponent() {
        }
        Object.defineProperty(FormFileUploadComponent.prototype, "hostClass", {
            get: /**
             * @return {?}
             */ function () {
                return this.config.divClass;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} event
         * @return {?}
         */
        FormFileUploadComponent.prototype.handleFileUpload = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                ((this.formGroup.controls[this.config.name]))
                    .setValue(this.config.multiple ? event.currentTarget.files : event.currentTarget.files[0]);
            };
        FormFileUploadComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'form-file-upload',
                        styles: ["", "input[type=submit]{margin-top:.5rem 1rem}.form-input{height:38px;border-radius:3.5px;background-color:#fff;border:1px solid #bdbdbd;margin-bottom:15px}label{margin-bottom:8px;font-size:16px}"],
                        template: "<div *ngIf='!config.hidden' [formGroup]=\"formGroup\">\n    <label [ngClass]=\"config.labelClass\" *ngIf=\"config.label && config.label!=''\">{{ config.label }}</label>\n    <div class=\"dynamic-field form-select\">\n        <input [disabled]=\"config.disabled\" class=\"form-input\" type='file' (change)='handleFileUpload($event)' [accept]=\"config.accept\" [ngClass]=\"config.class\" [attr.placeholder]=\"config.placeholder\" />\n    </div>\n</div>"
                    },] },
        ];
        FormFileUploadComponent.propDecorators = {
            hostClass: [{ type: core.HostBinding, args: ['class',] }]
        };
        return FormFileUploadComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var FormDatetimeComponent = (function () {
        function FormDatetimeComponent() {
        }
        Object.defineProperty(FormDatetimeComponent.prototype, "hostClass", {
            get: /**
             * @return {?}
             */ function () {
                return this.config.divClass;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        FormDatetimeComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                ((this.formGroup.controls[this.config.name]))
                    .setValue(new Date(), { onlySelf: true });
            };
        FormDatetimeComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'form-datetime',
                        styles: ["", "input[type=submit]{margin-top:.5rem 1rem}.form-input{height:38px;border-radius:3.5px;background-color:#fff;border:1px solid #bdbdbd;margin-bottom:15px}label{margin-bottom:8px;font-size:16px}"],
                        template: "<div *ngIf='!config.hidden' [formGroup]=\"formGroup\">\n    <label *ngIf=\"config.label && config.label!=''\">{{ config.label }}</label>\n    <div class=\"dynamic-field form-datetime\">\n        <ng-datepicker class=\"form-input\" [formControlName]=\"config.name\"></ng-datepicker>\n\n    </div>\n</div>"
                    },] },
        ];
        FormDatetimeComponent.propDecorators = {
            hostClass: [{ type: core.HostBinding, args: ['class',] }]
        };
        return FormDatetimeComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var FormButtonComponent = (function () {
        function FormButtonComponent(differs) {
            this.differ = differs.find([]).create(null);
        }
        Object.defineProperty(FormButtonComponent.prototype, "hostClass", {
            get: /**
             * @return {?}
             */ function () {
                return this.config.divClass;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        FormButtonComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @return {?}
         */
        FormButtonComponent.prototype.ngDoCheck = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout(function () {
                    /** @type {?} */
                    var change = _this.differ.diff(_this.btn);
                    if (document.querySelector('form').className.includes('ng-invalid')
                        && _this.config.inputType.toLowerCase() === 'submit') {
                        _this.config.disabled = true;
                    }
                    else {
                        _this.config.disabled = false;
                    }
                }, 10);
            };
        FormButtonComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'form-button',
                        styles: [""],
                        template: "<div *ngIf='!config.hidden' class=\"form-input\" [formGroup]=\"formGroup\">\n    <label [ngClass]=\"config.labelClass\" *ngIf=\"config.label && config.label!=''\">{{ config.label }}</label>\n    <div class=\"dynamic-field form-button\">\n        <button [disabled]=\"config.disabled\" [ngClass]=\"config.class\" type=\"submit\">\n        {{ config.text }}\n        </button>\n    </div>\n</div>"
                    },] },
        ];
        /** @nocollapse */
        FormButtonComponent.ctorParameters = function () {
            return [
                { type: core.IterableDiffers }
            ];
        };
        FormButtonComponent.propDecorators = {
            hostClass: [{ type: core.HostBinding, args: ['class',] }]
        };
        return FormButtonComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DynamicFormComponent = (function () {
        function DynamicFormComponent(fb) {
            this.fb = fb;
            this.config = [];
            this.submit = new core.EventEmitter();
        }
        Object.defineProperty(DynamicFormComponent.prototype, "controls", {
            get: /**
             * @return {?}
             */ function () {
                return this.config.filter(function (_a) {
                    var type = _a.type;
                    return type !== 'button';
                });
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicFormComponent.prototype, "changes", {
            get: /**
             * @return {?}
             */ function () { return this.form.valueChanges; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicFormComponent.prototype, "valid", {
            get: /**
             * @return {?}
             */ function () { return this.form.valid; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicFormComponent.prototype, "value", {
            get: /**
             * @return {?}
             */ function () { return this.form.value; },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        DynamicFormComponent.prototype.reset = /**
         * @return {?}
         */
            function () { this.form.reset(); };
        /**
         * @return {?}
         */
        DynamicFormComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.form = this.createGroup();
            };
        /**
         * Create FormGroup for the Form to be generated
         * @return {?}
         */
        DynamicFormComponent.prototype.createGroup = /**
         * Create FormGroup for the Form to be generated
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var formGroup = this.fb.group({});
                this.config.forEach(function (control) {
                    formGroup.addControl(control.name, _this.createControl(control));
                });
                return formGroup;
            };
        /**
         * Create Form Control in FormBuilder
         * @param {?} config
         * @return {?}
         */
        DynamicFormComponent.prototype.createControl = /**
         * Create Form Control in FormBuilder
         * @param {?} config
         * @return {?}
         */
            function (config) {
                var disabled = config.disabled, validation = config.validation, value = config.value;
                return this.fb.control({ disabled: disabled, value: value }, validation);
            };
        /**
         * Handle Form Submit
         * @param event
         */
        /**
         * Handle Form Submit
         * @param {?} event
         * @return {?}
         */
        DynamicFormComponent.prototype.handleSubmit = /**
         * Handle Form Submit
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.preventDefault();
                event.stopPropagation();
                this.submit.emit(this.value);
            };
        /**
         * Disables an element in the form
         * @param name
         * @param disable
         */
        /**
         * Disables an element in the form
         * @param {?} name
         * @param {?} disable
         * @return {?}
         */
        DynamicFormComponent.prototype.setDisabled = /**
         * Disables an element in the form
         * @param {?} name
         * @param {?} disable
         * @return {?}
         */
            function (name, disable) {
                if (this.form.controls[name]) {
                    /** @type {?} */
                    var method = disable ? 'disable' : 'enable';
                    this.form.controls[name][method]();
                    return;
                }
                this.config = this.config.map(function (item) {
                    if (item.name === name) {
                        item.disabled = disable;
                    }
                    return item;
                });
            };
        /**
         * Sets value of a Form control/element
         * @param name
         * @param value
         */
        /**
         * Sets value of a Form control/element
         * @param {?} name
         * @param {?} value
         * @return {?}
         */
        DynamicFormComponent.prototype.setValue = /**
         * Sets value of a Form control/element
         * @param {?} name
         * @param {?} value
         * @return {?}
         */
            function (name, value) {
                this.form.controls[name].setValue(value, { emitEvent: true });
            };
        DynamicFormComponent.decorators = [
            { type: core.Component, args: [{
                        exportAs: 'dynamicForm',
                        // tslint:disable-next-line:component-selector
                        selector: 'dynamic-form',
                        styles: [".__ngx-form-container{display:flex;flex-wrap:wrap}"],
                        template: "<form [formGroup]=\"form\" #newForm=\"ngForm\" (ngSubmit)=\"handleSubmit($event)\">\n    <div class=\"__ngx-form-container\">\n        <div dynamicField *ngFor=\"let field of config\" [config]=\"field\" [formGroup]=\"form\">\n        </div>\n    </div>\n</form>"
                    },] },
        ];
        /** @nocollapse */
        DynamicFormComponent.ctorParameters = function () {
            return [
                { type: forms.FormBuilder }
            ];
        };
        DynamicFormComponent.propDecorators = {
            config: [{ type: core.Input }],
            submit: [{ type: core.Output }]
        };
        return DynamicFormComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /** @type {?} */
    var components = {
        button: FormButtonComponent,
        input: FormInputComponent,
        select: FormSelectComponent,
        file: FormFileUploadComponent,
        date: FormDatetimeComponent
    };
    var DynamicAddFieldDirective = (function () {
        function DynamicAddFieldDirective(resolver, vcr) {
            this.resolver = resolver;
            this.vcr = vcr;
        }
        /**
         * @return {?}
         */
        DynamicAddFieldDirective.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (!components[this.config.type]) {
                    /** @type {?} */
                    var supportedTypes = Object.keys(components).join(', ');
                    throw new Error("Trying to use an unsupported type (" + this.config.type + ").\n            Supported types: " + supportedTypes);
                }
                /** @type {?} */
                var component = components[this.config.type];
                /** @type {?} */
                var factory = this.resolver.resolveComponentFactory(component);
                this.component = this.vcr.createComponent(factory);
                this.component.instance.config = this.config;
                this.component.instance.formGroup = this.formGroup;
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        DynamicAddFieldDirective.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (this.component) {
                    this.component.instance.config = this.config;
                    this.component.instance.formGroup = this.formGroup;
                }
            };
        DynamicAddFieldDirective.decorators = [
            { type: core.Directive, args: [{ selector: '[dynamicField]' },] },
        ];
        /** @nocollapse */
        DynamicAddFieldDirective.ctorParameters = function () {
            return [
                { type: core.ComponentFactoryResolver },
                { type: core.ViewContainerRef }
            ];
        };
        DynamicAddFieldDirective.propDecorators = {
            config: [{ type: core.Input }],
            formGroup: [{ type: core.Input }]
        };
        return DynamicAddFieldDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DynamicFormModule$$1 = (function () {
        function DynamicFormModule$$1() {
        }
        DynamicFormModule$$1.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            forms.FormsModule,
                            ng2Datepicker.NgDatepickerModule,
                            forms.ReactiveFormsModule
                        ],
                        declarations: [
                            DynamicAddFieldDirective,
                            DynamicFormComponent,
                            FormInputComponent,
                            FormSelectComponent,
                            FormFileUploadComponent,
                            FormDatetimeComponent,
                            FormButtonComponent
                        ],
                        providers: [],
                        exports: [
                            ng2Datepicker.NgDatepickerModule,
                            DynamicFormComponent
                        ], schemas: [
                            core.CUSTOM_ELEMENTS_SCHEMA
                        ],
                        entryComponents: [
                            FormInputComponent,
                            FormSelectComponent,
                            FormFileUploadComponent,
                            FormDatetimeComponent,
                            FormButtonComponent
                        ]
                    },] },
        ];
        return DynamicFormModule$$1;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.FormInputComponent = FormInputComponent;
    exports.FormSelectComponent = FormSelectComponent;
    exports.FormFileUploadComponent = FormFileUploadComponent;
    exports.FormDatetimeComponent = FormDatetimeComponent;
    exports.FormButtonComponent = FormButtonComponent;
    exports.DynamicFormComponent = DynamicFormComponent;
    exports.DynamicAddFieldDirective = DynamicAddFieldDirective;
    exports.DynamicFormModule = DynamicFormModule$$1;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWR5bmFtaWMtZm9ybS51bWQuanMubWFwIiwic291cmNlcyI6WyJuZzovL25neC1keW5hbWljLWZvcm0vbGliL2NvbXBvbmVudHMvZm9ybS1pbnB1dC9mb3JtLWlucHV0LmNvbXBvbmVudC50cyIsIm5nOi8vbmd4LWR5bmFtaWMtZm9ybS9saWIvY29tcG9uZW50cy9zZWxlY3Qvc2VsZWN0LmNvbXBvbmVudC50cyIsIm5nOi8vbmd4LWR5bmFtaWMtZm9ybS9saWIvY29tcG9uZW50cy9maWxlLXVwbG9hZC9maWxlLXVwbG9hZC5jb21wb25lbnQudHMiLCJuZzovL25neC1keW5hbWljLWZvcm0vbGliL2NvbXBvbmVudHMvZGF0ZXRpbWUvZGF0ZXRpbWUuY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtZHluYW1pYy1mb3JtL2xpYi9jb21wb25lbnRzL2J1dHRvbi9idXR0b24uY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtZHluYW1pYy1mb3JtL2xpYi9jb250YWluZXJzL2R5bmFtaWMtZm9ybS9keW5hbWljLWZvcm0uY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtZHluYW1pYy1mb3JtL2xpYi9kaXJlY3RpdmVzL2R5bmFtaWMtYWRkLWZpZWxkL2R5bmFtaWMtYWRkLWZpZWxkLmNvbXBvbmVudC50cyIsIm5nOi8vbmd4LWR5bmFtaWMtZm9ybS9saWIvZHluYW1pYy1mb3JtLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEhvc3RCaW5kaW5nIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvZmllbGQuaW50ZXJmYWNlJztcbmltcG9ydCB7IEZpZWxkQ29uZmlnIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9maWVsZC1jb25maWcuaW50ZXJmYWNlJztcblxuXG5AQ29tcG9uZW50KHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y29tcG9uZW50LXNlbGVjdG9yXG4gICAgc2VsZWN0b3I6ICdmb3JtLWlucHV0JyxcbiAgICBzdHlsZXM6IFtgaW5wdXRbdHlwZT1zdWJtaXRde21hcmdpbi10b3A6LjVyZW0gMXJlbX0uZm9ybS1pbnB1dHtoZWlnaHQ6MzhweDtib3JkZXItcmFkaXVzOjMuNXB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNiZGJkYmQ7bWFyZ2luLWJvdHRvbToxNXB4fWxhYmVse21hcmdpbi1ib3R0b206OHB4O2ZvbnQtc2l6ZToxNnB4fWAsIGBpbnB1dFt0eXBlPXN1Ym1pdF17bWFyZ2luLXRvcDouNXJlbSAxcmVtfS5mb3JtLWlucHV0e2hlaWdodDozOHB4O2JvcmRlci1yYWRpdXM6My41cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI2JkYmRiZDttYXJnaW4tYm90dG9tOjE1cHh9bGFiZWx7bWFyZ2luLWJvdHRvbTo4cHg7Zm9udC1zaXplOjE2cHh9YF0sXG4gICAgdGVtcGxhdGU6IGA8ZGl2ICpuZ0lmPSchY29uZmlnLmhpZGRlbicgW2Zvcm1Hcm91cF09XCJmb3JtR3JvdXBcIj5cbiAgICA8bGFiZWwgW25nQ2xhc3NdPVwiY29uZmlnLmxhYmVsQ2xhc3NcIiAqbmdJZj1cImNvbmZpZy5sYWJlbCAmJiBjb25maWcubGFiZWwhPScnXCI+e3sgY29uZmlnLmxhYmVsIH19PC9sYWJlbD5cbiAgICA8aW5wdXQgKm5nSWY9XCJjb25maWcudHlwZSA9PT0naW5wdXQnICYmICFjb25maWcuZnJvbUVudW0gXCIgY2xhc3M9XCJmb3JtLWlucHV0XCIgdmFsdWU9e3tjb25maWcudGV4dH19IFtkaXNhYmxlZF09XCJjb25maWcuZGlzYWJsZWRcIiB0eXBlPXt7Y29uZmlnLmlucHV0VHlwZX19IFtuZ0NsYXNzXT1cImNvbmZpZy5jbGFzc1wiIFthdHRyLnBsYWNlaG9sZGVyXT1cImNvbmZpZy5wbGFjZWhvbGRlclwiIFtmb3JtQ29udHJvbE5hbWVdPVwiY29uZmlnLm5hbWVcIlxuICAgIC8+XG5cbiAgICA8c2VsZWN0ICpuZ0lmPVwiY29uZmlnLnR5cGU9PT0nc2VsZWN0JyAmJiAhY29uZmlnLmZyb21FbnVtICYmICFjb25maWcuaGlkZGVuXCIgY2xhc3M9XCJmb3JtLWlucHV0XCIgW2Zvcm1Db250cm9sTmFtZV09XCJjb25maWcubmFtZVwiIFtuZ0NsYXNzXT1jb25maWcuY2xhc3M+XG4gICAgICAgIDxvcHRpb24gdmFsdWU9JycgW3NlbGVjdGVkXT1cInRydWVcIj57eyBjb25maWcucGxhY2Vob2xkZXIgfX08L29wdGlvbj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT17e29wdGlvbn19XG4gICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IG9wdGlvbiBvZiBjb25maWcub3B0aW9uc1wiPlxuICAgICAgICAgICAgICAgIHt7b3B0aW9ufX1cbiAgICAgICAgPC9vcHRpb24+XG4gICAgPC9zZWxlY3Q+XG4gICAgPHNlbGVjdCBjbGFzcz1cImZvcm0taW5wdXRcIiAqbmdJZj1cImNvbmZpZy50eXBlPT09J3NlbGVjdCcgJiYgY29uZmlnLmZyb21FbnVtICYmICFjb25maWcuaGlkZGVuXCIgW2Zvcm1Db250cm9sTmFtZV09XCJjb25maWcubmFtZVwiIFtuZ0NsYXNzXT1jb25maWcuY2xhc3M+XG4gICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIiBbc2VsZWN0ZWRdPVwidHJ1ZVwiPnt7IGNvbmZpZy5wbGFjZWhvbGRlciB9fTwvb3B0aW9uPlxuICAgICAgICA8b3B0aW9uIHZhbHVlPXt7Y29uZmlnLm9wdGlvbnNbMF1baV19fVxuICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBvIG9mIGNvbmZpZy5vcHRpb25zWzBdOyBsZXQgaT1pbmRleFwiPlxuICAgICAgICAgICAgICAgIHt7IGNvbmZpZy5vcHRpb25zWzFdW2ldIH19XG4gICAgICAgIDwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PlxuXG4gICAgPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1pbnB1dFwiICpuZ0lmPVwiY29uZmlnLnR5cGU9PT0ndGV4dGFyZWEnICYmICFjb25maWcuaGlkZGVuXCIgW2Zvcm1Db250cm9sTmFtZV09XCJjb25maWcubmFtZVwiIFthdHRyLnBsYWNlaG9sZGVyXT1cImNvbmZpZy5wbGFjZWhvbGRlclwiIHJvd3M9e3tjb25maWcucm93c319IGNvbHM9e3tjb25maWcuY29sc319PjwvdGV4dGFyZWE+XG5cbiAgICA8bmctZGF0ZXBpY2tlciBjbGFzcz1cImZvcm0taW5wdXRcIiBbbmdDbGFzc109XCJjb25maWcuY2xhc3NcIiAqbmdJZj1cImNvbmZpZy50eXBlID09PSdkYXRlJ1wiIFtmb3JtQ29udHJvbE5hbWVdPVwiY29uZmlnLm5hbWVcIj48L25nLWRhdGVwaWNrZXI+XG48L2Rpdj5gXG59KVxuXG5leHBvcnQgY2xhc3MgRm9ybUlucHV0Q29tcG9uZW50IGltcGxlbWVudHMgRmllbGQge1xuICAgIGNvbmZpZzogRmllbGRDb25maWc7XG4gICAgZm9ybUdyb3VwOiBGb3JtR3JvdXA7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIEBIb3N0QmluZGluZygnY2xhc3MnKVxuICAgIGdldCBob3N0Q2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5kaXZDbGFzcztcbiAgICAgICAgfVxufVxuXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIEhvc3RCaW5kaW5nIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmltcG9ydCB7IEZpZWxkIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9maWVsZC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRmllbGRDb25maWcgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2ZpZWxkLWNvbmZpZy5pbnRlcmZhY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdmb3JtLXNlbGVjdCcsXG4gIHN0eWxlczogW2BgLCBgaW5wdXRbdHlwZT1zdWJtaXRde21hcmdpbi10b3A6LjVyZW0gMXJlbX0uZm9ybS1pbnB1dHtoZWlnaHQ6MzhweDtib3JkZXItcmFkaXVzOjMuNXB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNiZGJkYmQ7bWFyZ2luLWJvdHRvbToxNXB4fWxhYmVse21hcmdpbi1ib3R0b206OHB4O2ZvbnQtc2l6ZToxNnB4fWBdLFxuICB0ZW1wbGF0ZTogYDxkaXYgKm5nSWY9JyFjb25maWcuaGlkZGVuJyBbZm9ybUdyb3VwXT1cImZvcm1Hcm91cFwiPlxuICAgIDxsYWJlbCBbbmdDbGFzc109XCJjb25maWcubGFiZWxDbGFzc1wiICpuZ0lmPVwiY29uZmlnLmxhYmVsICYmIGNvbmZpZy5sYWJlbCE9JydcIj57eyBjb25maWcubGFiZWwgfX08L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJkeW5hbWljLWZpZWxkIGZvcm0tc2VsZWN0XCI+XG4gICAgICAgIDxzZWxlY3QgKm5nSWY9XCIhY29uZmlnLmVudW1cIiBjbGFzcz1cImZvcm0taW5wdXRcIiBbaGlkZGVuXT0nY29uZmlnLmhpZGRlbicgW2Zvcm1Db250cm9sTmFtZV09XCJjb25maWcubmFtZVwiIFtuZ0NsYXNzXT1jb25maWcuY2xhc3M+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nJyBbc2VsZWN0ZWRdPVwidHJ1ZVwiPnt7IGNvbmZpZy5wbGFjZWhvbGRlciB9fTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gKm5nRm9yPVwibGV0IG9wdGlvbiBvZiBjb25maWcub3B0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVdPSdvcHRpb24nPlxuICAgICAgICAgICAgICAgICAgICAgICAge3tvcHRpb259fVxuICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuXG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICA8c2VsZWN0IFtmb3JtQ29udHJvbE5hbWVdPVwiY29uZmlnLm5hbWVcIiBjbGFzcz1cImZvcm0taW5wdXRcIiBbbmdDbGFzc109Y29uZmlnLmNsYXNzICpuZ0lmPVwiY29uZmlnLmVudW1cIj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPScnIFtzZWxlY3RlZF09XCJ0cnVlXCI+e3sgY29uZmlnLnBsYWNlaG9sZGVyIH19PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiAqbmdGb3I9XCJsZXQgbyBvZiBlbnVtVG9BcnJheShjb25maWcuZW51bSlbMF07IGxldCBpPWluZGV4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZV09J2VudW1Ub0FycmF5KGNvbmZpZy5lbnVtKVswXVtpXSc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7eyBlbnVtVG9BcnJheShjb25maWcuZW51bSlbMV1baV0gfX1cbiAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgPC9kaXY+XG48L2Rpdj5gXG59KVxuZXhwb3J0IGNsYXNzIEZvcm1TZWxlY3RDb21wb25lbnQgaW1wbGVtZW50cyBGaWVsZCB7XG4gIGNvbmZpZzogRmllbGRDb25maWc7XG4gIGZvcm1Hcm91cDogRm9ybUdyb3VwO1xuXG4gIEBIb3N0QmluZGluZygnY2xhc3MnKVxuICAgIGdldCBob3N0Q2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5kaXZDbGFzcztcbiAgICAgICAgfVxuICAvKipcbiAgICogQ29udmVydHMgYW5kIEVudW0gT2JqZWN0IHRvIGFuIEFycmF5IFxuICAgKiBAcGFyYW0gYXJnICBFbnVtXG4gICAqIEByZXR1cm5zIEFycmF5PEFycmF5PGFueT4+XG4gICAqL1xuICBlbnVtVG9BcnJheShhcmc6IE9iamVjdCk6IG51bWJlcltdIHtcbiAgICBjb25zdCBudW1LZXlBcnIgPSBbXTsgXG4gICAgY29uc3QgdmFsQXJyID0gW107IFxuICAgIGNvbnN0IHJldHVybmVkQXJyYXkgPSBbXTtcblxuICAgIGNvbnN0IG9iaktleXMgPSBPYmplY3Qua2V5cyhhcmcpO1xuICAgICAgb2JqS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IG51bWJlcktleSA9IE51bWJlcihrZXkpXG4gICAgICAgIGlmKCFpc05hTihudW1iZXJLZXkpKXtcbiAgICAgICAgbnVtS2V5QXJyLnB1c2gobnVtYmVyS2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbEFyci5wdXNoKGtleSlcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybmVkQXJyYXlbMF0gPSBudW1LZXlBcnI7XG4gICAgcmV0dXJuZWRBcnJheVsxXSA9IHZhbEFycjtcbiAgICByZXR1cm4gcmV0dXJuZWRBcnJheTtcbiAgfVxuXG59XG5cblxuaW50ZXJmYWNlIFNlbGVjdENvbmZpZyBleHRlbmRzIEZpZWxkQ29uZmlne1xuICAgIGVudW06IGJvb2xlYW4sXG4gICAgb3B0aW9ucz86IHN0cmluZ1tdXG59IiwiaW1wb3J0IHsgQ29tcG9uZW50LCBIb3N0QmluZGluZyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUdyb3VwLCBGb3JtQ29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuaW1wb3J0IHsgRmllbGQgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2ZpZWxkLmludGVyZmFjZSc7XG5pbXBvcnQgeyBGaWVsZENvbmZpZyB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvZmllbGQtY29uZmlnLmludGVyZmFjZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2Zvcm0tZmlsZS11cGxvYWQnLFxuICBzdHlsZXM6IFtgYCwgYGlucHV0W3R5cGU9c3VibWl0XXttYXJnaW4tdG9wOi41cmVtIDFyZW19LmZvcm0taW5wdXR7aGVpZ2h0OjM4cHg7Ym9yZGVyLXJhZGl1czozLjVweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjYmRiZGJkO21hcmdpbi1ib3R0b206MTVweH1sYWJlbHttYXJnaW4tYm90dG9tOjhweDtmb250LXNpemU6MTZweH1gXSxcbiAgdGVtcGxhdGU6IGA8ZGl2ICpuZ0lmPSchY29uZmlnLmhpZGRlbicgW2Zvcm1Hcm91cF09XCJmb3JtR3JvdXBcIj5cbiAgICA8bGFiZWwgW25nQ2xhc3NdPVwiY29uZmlnLmxhYmVsQ2xhc3NcIiAqbmdJZj1cImNvbmZpZy5sYWJlbCAmJiBjb25maWcubGFiZWwhPScnXCI+e3sgY29uZmlnLmxhYmVsIH19PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHluYW1pYy1maWVsZCBmb3JtLXNlbGVjdFwiPlxuICAgICAgICA8aW5wdXQgW2Rpc2FibGVkXT1cImNvbmZpZy5kaXNhYmxlZFwiIGNsYXNzPVwiZm9ybS1pbnB1dFwiIHR5cGU9J2ZpbGUnIChjaGFuZ2UpPSdoYW5kbGVGaWxlVXBsb2FkKCRldmVudCknIFthY2NlcHRdPVwiY29uZmlnLmFjY2VwdFwiIFtuZ0NsYXNzXT1cImNvbmZpZy5jbGFzc1wiIFthdHRyLnBsYWNlaG9sZGVyXT1cImNvbmZpZy5wbGFjZWhvbGRlclwiIC8+XG4gICAgPC9kaXY+XG48L2Rpdj5gXG59KVxuZXhwb3J0IGNsYXNzIEZvcm1GaWxlVXBsb2FkQ29tcG9uZW50IGltcGxlbWVudHMgRmllbGQge1xuICBjb25maWc6IEZpbGVDb25maWc7XG4gIGZvcm1Hcm91cDogRm9ybUdyb3VwO1xuXG4gIEBIb3N0QmluZGluZygnY2xhc3MnKVxuICAgIGdldCBob3N0Q2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5kaXZDbGFzcztcbiAgICAgICAgfVxuXG4gIGhhbmRsZUZpbGVVcGxvYWQoZXZlbnQpe1xuICAgICg8Rm9ybUNvbnRyb2w+dGhpcy5mb3JtR3JvdXAuY29udHJvbHNbdGhpcy5jb25maWcubmFtZV0pXG4gICAgLnNldFZhbHVlKHRoaXMuY29uZmlnLm11bHRpcGxlPyAgZXZlbnQuY3VycmVudFRhcmdldC5maWxlczogZXZlbnQuY3VycmVudFRhcmdldC5maWxlc1swXSk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUNvbmZpZyBleHRlbmRzIEZpZWxkQ29uZmlne1xuICAgICAgbXVsdGlwbGU6IGJvb2xlYW4sXG4gICAgICBhY2NlcHQ6IHN0cmluZyxcblxufSIsImltcG9ydCB7IENvbXBvbmVudCwgSG9zdEJpbmRpbmcgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1Hcm91cCwgRm9ybUNvbnRyb2wgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmltcG9ydCB7IEZpZWxkIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9maWVsZC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRmllbGRDb25maWcgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2ZpZWxkLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbWV0YWRhdGEvbGlmZWN5Y2xlX2hvb2tzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZm9ybS1kYXRldGltZScsXG4gIHN0eWxlczogW2BgLCBgaW5wdXRbdHlwZT1zdWJtaXRde21hcmdpbi10b3A6LjVyZW0gMXJlbX0uZm9ybS1pbnB1dHtoZWlnaHQ6MzhweDtib3JkZXItcmFkaXVzOjMuNXB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNiZGJkYmQ7bWFyZ2luLWJvdHRvbToxNXB4fWxhYmVse21hcmdpbi1ib3R0b206OHB4O2ZvbnQtc2l6ZToxNnB4fWBdLFxuICB0ZW1wbGF0ZTogYDxkaXYgKm5nSWY9JyFjb25maWcuaGlkZGVuJyBbZm9ybUdyb3VwXT1cImZvcm1Hcm91cFwiPlxuICAgIDxsYWJlbCAqbmdJZj1cImNvbmZpZy5sYWJlbCAmJiBjb25maWcubGFiZWwhPScnXCI+e3sgY29uZmlnLmxhYmVsIH19PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHluYW1pYy1maWVsZCBmb3JtLWRhdGV0aW1lXCI+XG4gICAgICAgIDxuZy1kYXRlcGlja2VyIGNsYXNzPVwiZm9ybS1pbnB1dFwiIFtmb3JtQ29udHJvbE5hbWVdPVwiY29uZmlnLm5hbWVcIj48L25nLWRhdGVwaWNrZXI+XG5cbiAgICA8L2Rpdj5cbjwvZGl2PmBcbn0pXG5leHBvcnQgY2xhc3MgRm9ybURhdGV0aW1lQ29tcG9uZW50IGltcGxlbWVudHMgRmllbGQsIE9uSW5pdCB7XG4gIFxuICBjb25maWc6IEZpZWxkQ29uZmlnO1xuICBmb3JtR3JvdXA6IEZvcm1Hcm91cDtcblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzJylcbiAgICBnZXQgaG9zdENsYXNzKCk6IHN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZGl2Q2xhc3M7XG4gICAgICAgIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICAoPEZvcm1Db250cm9sPnRoaXMuZm9ybUdyb3VwLmNvbnRyb2xzW3RoaXMuY29uZmlnLm5hbWVdKVxuICAgIC5zZXRWYWx1ZShuZXcgRGF0ZSgpLCB7IG9ubHlTZWxmOiB0cnVlIH0pO1xuICB9XG59IiwiaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBJdGVyYWJsZURpZmZlcnMsIEFmdGVyVmlld0luaXQsIERvQ2hlY2ssIEhvc3RCaW5kaW5nIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmltcG9ydCB7IEZpZWxkIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9maWVsZC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRmllbGRDb25maWcgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2ZpZWxkLWNvbmZpZy5pbnRlcmZhY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdmb3JtLWJ1dHRvbicsXG4gIHN0eWxlczogW2BgXSxcbiAgdGVtcGxhdGU6IGA8ZGl2ICpuZ0lmPSchY29uZmlnLmhpZGRlbicgY2xhc3M9XCJmb3JtLWlucHV0XCIgW2Zvcm1Hcm91cF09XCJmb3JtR3JvdXBcIj5cbiAgICA8bGFiZWwgW25nQ2xhc3NdPVwiY29uZmlnLmxhYmVsQ2xhc3NcIiAqbmdJZj1cImNvbmZpZy5sYWJlbCAmJiBjb25maWcubGFiZWwhPScnXCI+e3sgY29uZmlnLmxhYmVsIH19PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHluYW1pYy1maWVsZCBmb3JtLWJ1dHRvblwiPlxuICAgICAgICA8YnV0dG9uIFtkaXNhYmxlZF09XCJjb25maWcuZGlzYWJsZWRcIiBbbmdDbGFzc109XCJjb25maWcuY2xhc3NcIiB0eXBlPVwic3VibWl0XCI+XG4gICAgICAgIHt7IGNvbmZpZy50ZXh0IH19XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuPC9kaXY+YFxufSlcbmV4cG9ydCBjbGFzcyBGb3JtQnV0dG9uQ29tcG9uZW50IGltcGxlbWVudHMgRmllbGQsIEFmdGVyVmlld0luaXQsIERvQ2hlY2sge1xuICBjb25maWc6IEZpZWxkQ29uZmlnO1xuICBmb3JtR3JvdXA6IEZvcm1Hcm91cDtcbiAgZGlmZmVyOiBhbnk7XG4gIGJ0bjogYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRpZmZlcnM6IEl0ZXJhYmxlRGlmZmVycykge1xuICAgICAgdGhpcy5kaWZmZXIgPSBkaWZmZXJzLmZpbmQoW10pLmNyZWF0ZShudWxsKTtcbn1cblxuXG5ASG9zdEJpbmRpbmcoJ2NsYXNzJylcbmdldCBob3N0Q2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRpdkNsYXNzO1xuICAgIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gIH1cblxuICBuZ0RvQ2hlY2soKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNoYW5nZSA9IHRoaXMuZGlmZmVyLmRpZmYodGhpcy5idG4pO1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKS5jbGFzc05hbWUuaW5jbHVkZXMoJ25nLWludmFsaWQnKVxuICAgICAgICAgICYmIHRoaXMuY29uZmlnLmlucHV0VHlwZS50b0xvd2VyQ2FzZSgpID09PSAnc3VibWl0Jykge1xuICAgICAgICAgICAgdGhpcy5jb25maWcuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb25maWcuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LCAxMCApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIEV2ZW50RW1pdHRlciwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtR3JvdXAsIEZvcm1CdWlsZGVyIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgRmllbGRDb25maWcgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2ZpZWxkLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBleHBvcnRBczogJ2R5bmFtaWNGb3JtJyxcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y29tcG9uZW50LXNlbGVjdG9yXG4gICAgc2VsZWN0b3I6ICdkeW5hbWljLWZvcm0nLFxuICAgIHN0eWxlczogW2AuX19uZ3gtZm9ybS1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2ZsZXgtd3JhcDp3cmFwfWBdLFxuICAgIHRlbXBsYXRlOiBgPGZvcm0gW2Zvcm1Hcm91cF09XCJmb3JtXCIgI25ld0Zvcm09XCJuZ0Zvcm1cIiAobmdTdWJtaXQpPVwiaGFuZGxlU3VibWl0KCRldmVudClcIj5cbiAgICA8ZGl2IGNsYXNzPVwiX19uZ3gtZm9ybS1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBkeW5hbWljRmllbGQgKm5nRm9yPVwibGV0IGZpZWxkIG9mIGNvbmZpZ1wiIFtjb25maWddPVwiZmllbGRcIiBbZm9ybUdyb3VwXT1cImZvcm1cIj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Zvcm0+YFxufSlcblxuZXhwb3J0IGNsYXNzIER5bmFtaWNGb3JtQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgICBASW5wdXQoKSBjb25maWc6IEZpZWxkQ29uZmlnW10gPSBbXTtcbiAgICBmaWVsZDtcblxuICAgIEBPdXRwdXQoKSAgc3VibWl0OiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICAgIGZvcm06IEZvcm1Hcm91cDtcblxuICAgIGdldCBjb250cm9scygpIHsgcmV0dXJuIHRoaXMuY29uZmlnLmZpbHRlcigoe3R5cGV9KSA9PiB0eXBlICE9PSAnYnV0dG9uJyk7IH1cbiAgICBnZXQgY2hhbmdlcygpIHsgcmV0dXJuIHRoaXMuZm9ybS52YWx1ZUNoYW5nZXM7IH1cbiAgICBnZXQgdmFsaWQoKSB7IHJldHVybiB0aGlzLmZvcm0udmFsaWQ7IH1cbiAgICBnZXQgdmFsdWUoKSB7IHJldHVybiB0aGlzLmZvcm0udmFsdWU7IH1cbiAgICByZXNldCgpeyB0aGlzLmZvcm0ucmVzZXQoKX1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyKSB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuZm9ybSA9IHRoaXMuY3JlYXRlR3JvdXAoKTtcbiAgICBcbiAgICB9XG5cblxuICAgICAvKipcbiAgICAgICogQ3JlYXRlIEZvcm1Hcm91cCBmb3IgdGhlIEZvcm0gdG8gYmUgZ2VuZXJhdGVkXG4gICAgICAqL1xuICAgIHByaXZhdGUgY3JlYXRlR3JvdXAoKTogRm9ybUdyb3VwIHtcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwID0gdGhpcy5mYi5ncm91cCh7fSk7XG4gICAgICAgIHRoaXMuY29uZmlnLmZvckVhY2goY29udHJvbCA9PiB7XG4gICAgICAgICAgICBmb3JtR3JvdXAuYWRkQ29udHJvbChjb250cm9sLm5hbWUsIHRoaXMuY3JlYXRlQ29udHJvbChjb250cm9sKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBmb3JtR3JvdXA7XG4gICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBDcmVhdGUgRm9ybSBDb250cm9sIGluIEZvcm1CdWlsZGVyXG4gICAgICAqIEBwYXJhbSBjb25maWcgXG4gICAgICAqL1xuICAgIHByaXZhdGUgY3JlYXRlQ29udHJvbChjb25maWc6IEZpZWxkQ29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHsgZGlzYWJsZWQsIHZhbGlkYXRpb24sIHZhbHVlIH0gPSBjb25maWc7XG4gICAgICAgIHJldHVybiB0aGlzLmZiLmNvbnRyb2woeyBkaXNhYmxlZCwgdmFsdWUgfSwgdmFsaWRhdGlvbik7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBGb3JtIFN1Ym1pdFxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKi9cbiAgICBoYW5kbGVTdWJtaXQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0aGlzLnN1Ym1pdC5lbWl0KHRoaXMudmFsdWUpO1xuICAgIH1cblxuXG4vKipcbiAqIERpc2FibGVzIGFuIGVsZW1lbnQgaW4gdGhlIGZvcm1cbiAqIEBwYXJhbSBuYW1lIFxuICogQHBhcmFtIGRpc2FibGUgXG4gKi9cbiAgICBzZXREaXNhYmxlZChuYW1lOiBzdHJpbmcsIGRpc2FibGU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuZm9ybS5jb250cm9sc1tuYW1lXSkge1xuICAgICAgICBjb25zdCBtZXRob2QgPSBkaXNhYmxlID8gJ2Rpc2FibGUnIDogJ2VuYWJsZSc7XG4gICAgICAgIHRoaXMuZm9ybS5jb250cm9sc1tuYW1lXVttZXRob2RdKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5jb25maWcubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWx1ZSBvZiBhIEZvcm0gY29udHJvbC9lbGVtZW50XG4gICAgICogQHBhcmFtIG5hbWUgXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqL1xuICAgIHNldFZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIHRoaXMuZm9ybS5jb250cm9sc1tuYW1lXS5zZXRWYWx1ZSh2YWx1ZSwge2VtaXRFdmVudDogdHJ1ZX0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSxcbiAgICAgICAgSW5wdXQsXG4gICAgICAgIFZpZXdDb250YWluZXJSZWYsXG4gICAgICAgIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgICAgICAgT25Jbml0LCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZXMsXG4gICAgICAgIENvbXBvbmVudFJlZiwgXG4gICAgICAgIFR5cGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3JtcydcblxuaW1wb3J0IHsgRmllbGQgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2ZpZWxkLmludGVyZmFjZSc7XG5pbXBvcnQgeyBGaWVsZENvbmZpZ30gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9maWVsZC1jb25maWcuaW50ZXJmYWNlJztcblxuaW1wb3J0IHsgRm9ybUlucHV0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9mb3JtLWlucHV0L2Zvcm0taW5wdXQuY29tcG9uZW50JztcbmltcG9ydCB7IEZvcm1CdXR0b25Db21wb25lbnQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2J1dHRvbi9idXR0b24uY29tcG9uZW50JztcbmltcG9ydCB7IEZvcm1TZWxlY3RDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3NlbGVjdC9zZWxlY3QuY29tcG9uZW50JztcbmltcG9ydCB7IEZvcm1GaWxlVXBsb2FkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9maWxlLXVwbG9hZC9maWxlLXVwbG9hZC5jb21wb25lbnQnO1xuaW1wb3J0IHsgRm9ybURhdGV0aW1lQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9kYXRldGltZS9kYXRldGltZS5jb21wb25lbnQnO1xuXG5jb25zdCBjb21wb25lbnRzOiB7W3R5cGU6IHN0cmluZ106IFR5cGU8RmllbGQ+fSA9IHtcbiAgYnV0dG9uOiBGb3JtQnV0dG9uQ29tcG9uZW50LFxuICBpbnB1dDogRm9ybUlucHV0Q29tcG9uZW50LFxuICBzZWxlY3Q6IEZvcm1TZWxlY3RDb21wb25lbnQsXG4gIGZpbGU6IEZvcm1GaWxlVXBsb2FkQ29tcG9uZW50LFxuICBkYXRlOiBGb3JtRGF0ZXRpbWVDb21wb25lbnRcbn07XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkaXJlY3RpdmUtc2VsZWN0b3JcbkBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ1tkeW5hbWljRmllbGRdJyB9KVxuZXhwb3J0IGNsYXNzIER5bmFtaWNBZGRGaWVsZERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCwgRmllbGQsIE9uQ2hhbmdlcyB7XG5cbiAgQElucHV0KCkgY29uZmlnO1xuICBASW5wdXQoKSBmb3JtR3JvdXA6IEZvcm1Hcm91cDtcblxuICBjb21wb25lbnQ6IENvbXBvbmVudFJlZjxGaWVsZD47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlc29sdmVyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSB2Y3I6IFZpZXdDb250YWluZXJSZWYpIHtcblxuICAgICAgICAgICAgICAgIH1cbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICAgIGlmICghY29tcG9uZW50c1t0aGlzLmNvbmZpZy50eXBlXSkge1xuICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZFR5cGVzID0gT2JqZWN0LmtleXMoY29tcG9uZW50cykuam9pbignLCAnKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgVHJ5aW5nIHRvIHVzZSBhbiB1bnN1cHBvcnRlZCB0eXBlICgke3RoaXMuY29uZmlnLnR5cGV9KS5cbiAgICAgICAgICAgIFN1cHBvcnRlZCB0eXBlczogJHtzdXBwb3J0ZWRUeXBlc31gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbXBvbmVudHNbdGhpcy5jb25maWcudHlwZV07XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSB0aGlzLnJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5PEZpZWxkPihjb21wb25lbnQpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMudmNyLmNyZWF0ZUNvbXBvbmVudChmYWN0b3J5KTtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuaW5zdGFuY2UuY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgIHRoaXMuY29tcG9uZW50Lmluc3RhbmNlLmZvcm1Hcm91cCA9IHRoaXMuZm9ybUdyb3VwO1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb21wb25lbnQpICB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50Lmluc3RhbmNlLmNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5pbnN0YW5jZS5mb3JtR3JvdXAgPSB0aGlzLmZvcm1Hcm91cDtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlLCBDVVNUT01fRUxFTUVOVFNfU0NIRU1BIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgUmVhY3RpdmVGb3Jtc01vZHVsZSwgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBOZ0RhdGVwaWNrZXJNb2R1bGUgfSBmcm9tICduZzItZGF0ZXBpY2tlcic7XG5cbmltcG9ydCB7IER5bmFtaWNGb3JtQ29tcG9uZW50IH0gZnJvbSAnLi9jb250YWluZXJzL2R5bmFtaWMtZm9ybS9keW5hbWljLWZvcm0uY29tcG9uZW50JztcblxuaW1wb3J0IHsgRm9ybUlucHV0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2Zvcm0taW5wdXQvZm9ybS1pbnB1dC5jb21wb25lbnQnO1xuaW1wb3J0IHtEeW5hbWljQWRkRmllbGREaXJlY3RpdmV9IGZyb20gJy4vZGlyZWN0aXZlcy9keW5hbWljLWFkZC1maWVsZC9keW5hbWljLWFkZC1maWVsZC5jb21wb25lbnQnO1xuaW1wb3J0IHsgRm9ybVNlbGVjdENvbXBvbmVudCwgRm9ybUZpbGVVcGxvYWRDb21wb25lbnQsIEZvcm1EYXRldGltZUNvbXBvbmVudCwgRm9ybUJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4uL3B1YmxpY19hcGknO1xuXG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgTmdEYXRlcGlja2VyTW9kdWxlLFxuICAgIFJlYWN0aXZlRm9ybXNNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgICBEeW5hbWljQWRkRmllbGREaXJlY3RpdmUsXG4gICAgICBEeW5hbWljRm9ybUNvbXBvbmVudCxcbiAgICAgIEZvcm1JbnB1dENvbXBvbmVudCxcbiAgICAgIEZvcm1TZWxlY3RDb21wb25lbnQsXG4gICAgICBGb3JtRmlsZVVwbG9hZENvbXBvbmVudCxcbiAgICAgIEZvcm1EYXRldGltZUNvbXBvbmVudCxcbiAgICAgIEZvcm1CdXR0b25Db21wb25lbnRcbiAgXSxcbiAgcHJvdmlkZXJzOiBbXG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBOZ0RhdGVwaWNrZXJNb2R1bGUsXG4gICAgRHluYW1pY0Zvcm1Db21wb25lbnRcbiAgXSwgc2NoZW1hczogW1xuICAgIENVU1RPTV9FTEVNRU5UU19TQ0hFTUFcbl0sXG4gIGVudHJ5Q29tcG9uZW50czogW1xuICAgIEZvcm1JbnB1dENvbXBvbmVudCxcbiAgICBGb3JtU2VsZWN0Q29tcG9uZW50LFxuICAgIEZvcm1GaWxlVXBsb2FkQ29tcG9uZW50LFxuICAgIEZvcm1EYXRldGltZUNvbXBvbmVudCxcbiAgICBGb3JtQnV0dG9uQ29tcG9uZW50XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgRHluYW1pY0Zvcm1Nb2R1bGUge31cbiJdLCJuYW1lcyI6WyJDb21wb25lbnQiLCJIb3N0QmluZGluZyIsIkl0ZXJhYmxlRGlmZmVycyIsIkV2ZW50RW1pdHRlciIsIkZvcm1CdWlsZGVyIiwiSW5wdXQiLCJPdXRwdXQiLCJEaXJlY3RpdmUiLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJWaWV3Q29udGFpbmVyUmVmIiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiLCJGb3Jtc01vZHVsZSIsIk5nRGF0ZXBpY2tlck1vZHVsZSIsIlJlYWN0aXZlRm9ybXNNb2R1bGUiLCJDVVNUT01fRUxFTUVOVFNfU0NIRU1BIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7UUF1Q0k7U0FBaUI7UUFFakIsc0JBQ0kseUNBQVM7OztnQkFEYjtnQkFFUSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO2FBQy9COzs7V0FBQTs7b0JBdENSQSxjQUFTLFNBQUM7O3dCQUVQLFFBQVEsRUFBRSxZQUFZO3dCQUN0QixNQUFNLEVBQUUsQ0FBQyxnTUFBZ00sRUFBRSxn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